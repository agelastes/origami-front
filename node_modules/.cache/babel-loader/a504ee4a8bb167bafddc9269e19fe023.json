{"ast":null,"code":"import _classCallCheck from \"/Users/agelastes/Code/blog-of-origami/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/agelastes/Code/blog-of-origami/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/agelastes/Code/blog-of-origami/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/agelastes/Code/blog-of-origami/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/agelastes/Code/blog-of-origami/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/agelastes/Code/blog-of-origami/src/components/ImageUploader/ImageUploader.js\";\nimport React from \"react\";\nimport \"./ImageUpload.css\";\n\nvar ImageUpload =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ImageUpload, _React$Component);\n\n  function ImageUpload(props) {\n    var _this;\n\n    _classCallCheck(this, ImageUpload);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ImageUpload).call(this, props));\n    _this.state = {\n      file: '',\n      imagePreviewUrl: ''\n    };\n    return _this;\n  }\n\n  _createClass(ImageUpload, [{\n    key: \"_handleSubmit\",\n    value: function _handleSubmit(e) {\n      localStorage.setItem('avatar', this.state.imagePreviewUrl);\n      e.preventDefault(); // TODO: do something with -> this.state.file\n\n      console.log('handle uploading-', this.state.file);\n    }\n  }, {\n    key: \"_handleImageChange\",\n    value: function _handleImageChange(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var reader = new FileReader();\n      var file = e.target.files[0];\n\n      reader.onloadend = function () {\n        _this2.setState({\n          file: file,\n          imagePreviewUrl: reader.result\n        });\n      };\n\n      reader.readAsDataURL(file);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var imagePreviewUrl = this.state.imagePreviewUrl;\n      var $imagePreview = null;\n\n      if (imagePreviewUrl) {\n        $imagePreview = React.createElement(\"img\", {\n          src: imagePreviewUrl,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37\n          },\n          __self: this\n        });\n      } else {\n        $imagePreview = React.createElement(\"div\", {\n          className: \"previewText\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"previewComponent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: function onSubmit(e) {\n          return _this3._handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"fileInput\",\n        type: \"file\",\n        onChange: function onChange(e) {\n          return _this3._handleImageChange(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"submitButton\",\n        type: \"submit\",\n        onClick: function onClick(e) {\n          return _this3._handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0438\\u0437\\u043E\\u0431\\u0440\\u0430\\u0436\\u0435\\u043D\\u0438\\u0435\")), React.createElement(\"div\", {\n        className: \"imgPreview\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, $imagePreview));\n    }\n  }]);\n\n  return ImageUpload;\n}(React.Component);\n\nexport default ImageUpload;","map":{"version":3,"sources":["/Users/agelastes/Code/blog-of-origami/src/components/ImageUploader/ImageUploader.js"],"names":["React","ImageUpload","props","state","file","imagePreviewUrl","e","localStorage","setItem","preventDefault","console","log","reader","FileReader","target","files","onloadend","setState","result","readAsDataURL","$imagePreview","_handleSubmit","_handleImageChange","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,IAAI,EAAE,EAAP;AAAUC,MAAAA,eAAe,EAAE;AAA3B,KAAb;AAFe;AAGlB;;;;kCAEaC,C,EAAG;AACbC,MAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+B,KAAKL,KAAL,CAAWE,eAA1C;AACAC,MAAAA,CAAC,CAACG,cAAF,GAFa,CAGb;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiC,KAAKR,KAAL,CAAWC,IAA5C;AACH;;;uCAEkBE,C,EAAG;AAAA;;AAClBA,MAAAA,CAAC,CAACG,cAAF;AAEA,UAAIG,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACA,UAAIT,IAAI,GAAGE,CAAC,CAACQ,MAAF,CAASC,KAAT,CAAe,CAAf,CAAX;;AAEAH,MAAAA,MAAM,CAACI,SAAP,GAAmB,YAAM;AACrB,QAAA,MAAI,CAACC,QAAL,CAAc;AACVb,UAAAA,IAAI,EAAEA,IADI;AAEVC,UAAAA,eAAe,EAAEO,MAAM,CAACM;AAFd,SAAd;AAIH,OALD;;AAOAN,MAAAA,MAAM,CAACO,aAAP,CAAqBf,IAArB;AACH;;;6BAEQ;AAAA;;AAAA,UACAC,eADA,GACmB,KAAKF,KADxB,CACAE,eADA;AAEL,UAAIe,aAAa,GAAG,IAApB;;AACA,UAAIf,eAAJ,EAAqB;AACjBe,QAAAA,aAAa,GAAI;AAAK,UAAA,GAAG,EAAEf,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAjB;AACH,OAFD,MAEO;AACHe,QAAAA,aAAa,GAAI;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iIAAjB;AACH;;AAED,aACI;AAAK,QAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,QAAQ,EAAE,kBAACd,CAAD;AAAA,iBAAK,MAAI,CAACe,aAAL,CAAmBf,CAAnB,CAAL;AAAA,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,WAAjB;AACO,QAAA,IAAI,EAAC,MADZ;AAEO,QAAA,QAAQ,EAAE,kBAACA,CAAD;AAAA,iBAAK,MAAI,CAACgB,kBAAL,CAAwBhB,CAAxB,CAAL;AAAA,SAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAII;AAAQ,QAAA,SAAS,EAAC,cAAlB;AACQ,QAAA,IAAI,EAAC,QADb;AAEQ,QAAA,OAAO,EAAE,iBAACA,CAAD;AAAA,iBAAK,MAAI,CAACe,aAAL,CAAmBf,CAAnB,CAAL;AAAA,SAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qIAJJ,CADJ,EASI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKc,aADL,CATJ,CADJ;AAeH;;;;EArDqBpB,KAAK,CAACuB,S;;AAwDhC,eAAetB,WAAf","sourcesContent":["import React from \"react\";\nimport \"./ImageUpload.css\";\n\nclass ImageUpload extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {file: '',imagePreviewUrl: ''};\n    }\n\n    _handleSubmit(e) {\n        localStorage.setItem('avatar', this.state.imagePreviewUrl);\n        e.preventDefault();\n        // TODO: do something with -> this.state.file\n        console.log('handle uploading-', this.state.file);\n    }\n\n    _handleImageChange(e) {\n        e.preventDefault();\n\n        let reader = new FileReader();\n        let file = e.target.files[0];\n\n        reader.onloadend = () => {\n            this.setState({\n                file: file,\n                imagePreviewUrl: reader.result\n            });\n        };\n\n        reader.readAsDataURL(file)\n    }\n\n    render() {\n        let {imagePreviewUrl} = this.state;\n        let $imagePreview = null;\n        if (imagePreviewUrl) {\n            $imagePreview = (<img src={imagePreviewUrl} />);\n        } else {\n            $imagePreview = (<div className=\"previewText\">Выберите изображение</div>);\n        }\n\n        return (\n            <div className=\"previewComponent\">\n                <form onSubmit={(e)=>this._handleSubmit(e)}>\n                    <input className=\"fileInput\"\n                           type=\"file\"\n                           onChange={(e)=>this._handleImageChange(e)} />\n                    <button className=\"submitButton\"\n                            type=\"submit\"\n                            onClick={(e)=>this._handleSubmit(e)}>Загрузить изображение</button>\n                </form>\n                <div className=\"imgPreview\">\n                    {$imagePreview}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ImageUpload;"]},"metadata":{},"sourceType":"module"}