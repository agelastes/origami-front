{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\\\source\\\\repos\\\\origami-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\\\source\\\\repos\\\\origami-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\\\source\\\\repos\\\\origami-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\\\source\\\\repos\\\\origami-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\\\source\\\\repos\\\\origami-front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\\\source\\\\repos\\\\origami-front\\\\src\\\\components\\\\Autorization\\\\Autorization.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { loginTrue } from \"../../ac/loginChange\";\nimport { Link } from \"react-router-dom\";\n\nvar Autorization =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Autorization, _Component);\n\n  function Autorization() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Autorization);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Autorization)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      login: \"Логин\",\n      password: \"Пароль\",\n      email: \"Email\",\n      Message: \"\"\n    };\n\n    _this.addNewUser = function () {\n      var token = \"\";\n      axios.post('http://localhost:5002/api/auth/register', {\n        login: _this.state.login,\n        password: _this.state.password,\n        email: _this.state.email\n      }).then(function (response) {\n        _this.setState({\n          Message: \"Вы были успешно зарегистрированы\"\n        });\n\n        console.log(token); //  this.props.loginTrue({login: this.state.login, token: token, password: this.state.password, role: response.data.role});\n\n        alert(_this.state.Message);\n      }).catch(function () {\n        _this.setState({\n          Message: \"email занят, попробуйте ввести другой\"\n        });\n\n        alert(_this.state.Message);\n      });\n    };\n\n    _this.changeLogin = function (e) {\n      _this.setState({\n        login: e.target.value\n      });\n    };\n\n    _this.changePassword = function (e) {\n      _this.setState({\n        password: e.target.value\n      });\n    };\n\n    _this.changeEmail = function (e) {\n      _this.setState({\n        email: e.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Autorization, [{\n    key: \"render\",\n    value: function render() {\n      if (this.props.isLogin) return React.createElement(\"div\", {\n        className: \"sub-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: '/login',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"\\u041F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"));\n      return React.createElement(\"div\", {\n        className: \"sub-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: this.changeLogin,\n        placeholder: this.state.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"password\",\n        onChange: this.changePassword,\n        placeholder: this.state.password,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onChange: this.changeEmail,\n        placeholder: this.state.email,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.addNewUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"), React.createElement(Link, {\n        to: '/login',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"));\n    }\n  }]);\n\n  return Autorization;\n}(Component);\n\nvar mapDispatchToProps = {\n  loginTrue: loginTrue\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLogin: state.isLogin.status\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Autorization);","map":{"version":3,"sources":["C:\\Users\\Пользователь\\source\\repos\\origami-front\\src\\components\\Autorization\\Autorization.js"],"names":["React","Component","axios","connect","loginTrue","Link","Autorization","state","login","password","email","Message","addNewUser","token","post","then","response","setState","console","log","alert","catch","changeLogin","e","target","value","changePassword","changeEmail","props","isLogin","mapDispatchToProps","mapStateToProps","status"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport { connect } from \"react-redux\";\r\nimport {loginTrue} from \"../../ac/loginChange\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Autorization extends Component {\r\n\r\n    state = {\r\n      login: \"Логин\",\r\n      password: \"Пароль\",\r\n      email: \"Email\",\r\n      Message: \"\"\r\n    };\r\n\r\n    addNewUser = () => {\r\n        let token = \"\";\r\n        axios.post(\r\n            'http://localhost:5002/api/auth/register', {\r\n                login: this.state.login,\r\n                password: this.state.password,\r\n                email: this.state.email\r\n            }\r\n        ).then(\r\n            (response)  => {\r\n                this.setState({Message: \"Вы были успешно зарегистрированы\"});\r\n                console.log(token);\r\n              //  this.props.loginTrue({login: this.state.login, token: token, password: this.state.password, role: response.data.role});\r\n                alert(this.state.Message);\r\n            }).catch(\r\n            () => {\r\n                this.setState({Message: \"email занят, попробуйте ввести другой\"});\r\n                alert(this.state.Message);\r\n                }\r\n                )\r\n    };\r\n\r\n    changeLogin = (e) => {\r\n        this.setState({login: e.target.value})\r\n    };\r\n\r\n    changePassword = (e) => {\r\n        this.setState({password: e.target.value})\r\n    };\r\n\r\n    changeEmail = (e) => {\r\n        this.setState({email: e.target.value})\r\n    };\r\n\r\n    render() {\r\n\r\n        if (this.props.isLogin) return <div className=\"sub-container\"><Link to = {'/login'}>Продолжить</Link></div>;\r\n\r\n        return (\r\n            <div className=\"sub-container\">\r\n                <input onChange={this.changeLogin} placeholder={this.state.login} />\r\n                <input type=\"password\" onChange={this.changePassword} placeholder={this.state.password} />\r\n                <input onChange={this.changeEmail} placeholder={this.state.email} />\r\n                <button onClick={this.addNewUser}>Зарегистрироваться</button>\r\n                <Link to={'/login'}>Войти</Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  loginTrue: loginTrue\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLogin: state.isLogin.status\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Autorization);"]},"metadata":{},"sourceType":"module"}